####################################################
# This template configures a demolist for use
# with pt_extlist
#
# @author Michael Knoll <knoll@punkt.de>, Daniel Lienert <lienert@punkt.de>
# @package Typo3
# @subpackage pt_extlist
####################################################

plugin.tx_ptextlist.settings {

    listConfig.demolist {
    
    	backendConfig < plugin.tx_ptextlist.prototype.backend.typo3
        backendConfig {
            
            datasource {
                # no configuration required here
            }
            
            
            tables (
                static_countries
            )
            
            
            baseFromClause (
            	static_countries 
            	inner join static_currencies on static_countries.cn_iso_nr = static_currencies.cu_iso_nr 
            )
            
            baseWhereClause (
            	static_currencies.cu_iso_nr > 100
            ) 
            
        }
        

        
        fields {
            
            name_local {
                table = static_countries
                field = cn_short_local
            }
            
            name_official {
            	table = static_countries
            	field = cn_official_name_en
            }
            
            name_english {
                table = static_countries
                field = cn_short_en
            }
            
            cu_name_english {
            	table = static_currencies
            	field = cu_name_en
            }
            
        }


        
        columns {
            10 {
            	isSortable = 0
            	label = LLL:EXT:pt_extlist/Resources/Private/Language/locallang.xml:column_name_local
                columnIdentifier = renderedCol1
                fieldIdentifier = name_local
            }
            
            20 {
            	isSortable = 1
            	sorting = cn_short_en ASC
            
                columnIdentifier = renderedCol2
                fieldIdentifier = name_english
            }
            
            30 {
            	isSortable = 1
            	sorting = cn_official_name_en ASC
            
                columnIdentifier = official_name
                fieldIdentifier = name_official
                label = Official Name
            }
            
             40 {
            	isSortable = 1
           
                columnIdentifier = cuname_english
                fieldIdentifier = cu_name_english
                label = Currency Name
            }
        }
        
        
        
        filters {
	        filterbox1 {
	              10 < plugin.tx_ptextlist.prototype.filter.string 
	              10 {
	                  filterIdentifier = filter1
	                  label = Stringfilter 1
	                  defaultValue = DefaultString
	                  fieldDescriptionIdentifier = name_english
	                  partialPath = Filter/StringFilter
	              }
	              
	              20 {
	                  filterIdentifier = filter2
	                  label = GroupFilter 1
	                  partialPath = Filter/GroupFilter
	              }
	         }
        }


        pager {
            enabled = 1
            pagerClassName = Tx_PtExtlist_Domain_Model_Pager_DefaultPager
            itemsPerPage = 10
            
            showNextLink = 1
            showPreviousLink = 1
            showFirstLink = 1
            showLastLink = 1
        }
        
        renderer {
            enabled = 1
            showCaptionsInBody = 0
            rendererClassName = Tx_PtExtlist_Domain_Renderer_DefaultRenderer
        }   
    }
}
