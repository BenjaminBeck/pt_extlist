<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>6. Architecture</title><link rel="stylesheet" type="text/css" href="../css/style.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><link rel="home" href="index.html" title="pt_extlist"><link rel="up" href="index.html" title="pt_extlist"><link rel="prev" href="ar01s05.html" title="5. Write the title action-orientated according to the target group."><link rel="next" href="ar01s07.html" title="7. pt_extlist"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ar01s05.html"><img src="../images/png/prev.png" alt="Prev"></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s07.html"><img src="../images/png/next.png" alt="Next"></a></td></tr></table></div><div class="section" title="6. Architecture"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id287526659"></a>6. Architecture</h2></div></div></div><p>This section gives you an overview of the architecture of pt_exlist. It shows its design principles and gives you a hint on where to make your hands dirty if you want to extend pt_extlist or use it in third party extensions.</p><div class="section" title="6.1. Who should read this?"><div class="titlepage"><div><div><h3 class="title"><a name="id287526669"></a>6.1. Who should read this?</h3></div></div></div><p>If you are just interested in how pt_extlist works and want to see how things are put together, the following chapter could be a nice thing to read. If you are a developer and want to extend pt_extlist or want to use it as an API inside your extension, it's necessary to read this!</p></div><div class="section" title="6.2. Overview"><div class="titlepage"><div><div><h3 class="title"><a name="id287526679"></a>6.2. Overview</h3></div></div></div><p>Take a look at the following figure to get a first impression of pt_extlist's architecture:</p><div class="figure"><a name="id287526689"></a><div class="figure-contents"><div class="mediaobject" align="center"><img src="../images/architecture_01.png" align="middle" width="350" alt="Basic Architecture of pt_extlist"></div></div><p class="title"><b>Figure 18. Basic Architecture of pt_extlist</b></p></div><p><br class="figure-break"></p><p>The red elements stand for data-related stuff. DataSource gets our data from whatever source we use. Sources can be TYPO3 databases as well as arbitrary MySQL databases and Extbase repositories.</p><p>The green elements are configuration-specific which means that they pull our configuration from TypoScript or Flexforms and do various merging on them to generate some nice-to-handle objects that are used for all configuration inside pt_extlist.</p><p>The blue elements are what we would like to call our Domain Models as they handle things like lists, filters, pagers etc. which is the core domain of our extension.</p><p>Finally the yellow elements stand for all objects that handle the rendering of our list data. As we will see, this can get quite complex.</p><p>Our extension architecture is surrounded by some out-of-the box framework stuff provided mainly by Extbase and TYPO3.</p></div><div class="section" title="6.3. Configuration"><div class="titlepage"><div><div><h3 class="title"><a name="id287526727"></a>6.3. Configuration</h3></div></div></div><p>Regarding our extension in a bottom-up fashion, we can easily start with configuration as its the basic thing to have before we can set up anything else. As you might have suggested, most of our configuration is using in TypoScript. Besides there are some settings coming from Flexform or surrounding extensions. We covered this problem inside pt_extlist using what we call a configurationBuilder. Roughly speaking, it is an object that handles the creation of all configuration stuff we need. As we did not like fiddling around with arrays, we started to implement so called configuration objects for all the configuration that we needed. The main ascpects of those objects is to make sure that the required settings are there and correct. Configuration objects are passed to all other objects that require some kind of configuration.</p><p>Take a look at this diagram to get an idea of how everything works together:</p><div class="figure"><a name="id287526740"></a><div class="figure-contents"><div class="mediaobject" align="center"><img src="../images/architecture_02.png" align="middle" width="350" alt="Configuration Builder scheme"></div></div><p class="title"><b>Figure 19. Configuration Builder scheme</b></p></div><p><br class="figure-break"></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s05.html"><img src="../images/png/prev.png" alt="Prev"></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s07.html"><img src="../images/png/next.png" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="../images/png/home.png" alt="Home"></a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
